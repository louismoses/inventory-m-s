<%- include('partials/header.ejs') %>
 <div class="container mt-5">
  <h1>Inventory Management System</h1>
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h2>List of Items</h2>
    <a href="/items/new-item" class="btn btn-primary">Add Item</a>
  </div>
  <table class="table table-bordered table-striped table-hover">
    <thead>
      <tr>
        <th>Name</th>
        <th>Category</th>
        <th>Quantity</th>
        <th>Price</th>
        <th>Description</th>
        <th>Created At</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% items.forEach((item) => { %>
        <tr>
          <td><%- item.name %></td>
          <td><%- item.category %></td>
          <td><%- item.quantity %></td>
          <td><%- item.price %></td>
          <td><%- item.description %></td>
          <%  const date = new Date(item.createdAt); %>
          <% const formattedDate = date.toLocaleString(); %>
          <td><%-formattedDate %></td>
          <td>
            <a href="/items/<%- item._id %>" class="btn btn-sm btn-info text-white">View</a>
            <a href="/items/<%- item._id %>/edit" class="btn btn-sm btn-warning text-white">Update</a>
            <form action="/items/<%= item._id %>?_method=DELETE" method="POST" class="d-inline"><button type="submit"  class="btn btn-sm btn-danger text-white">Delete</button></form>
          </td>
          <% }); %>
  </table>
 </div>
<%- include('partials/footer.ejs') %>